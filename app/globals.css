@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
    background-color: var(--bg);
    background-image:
      radial-gradient(140% 120% at 18% 0%, rgba(0, 0, 0, 0.163), transparent 58%),
      radial-gradient(120% 140% at 86% -18%, rgb(8, 1, 10), transparent 55%),
      linear-gradient(165deg, #04070f 0%, #0a101c 32%, #050912 100%);
    background-attachment: fixed;
    background-repeat: no-repeat;
  }
}

/* ============= DSG Mentor Chatbot – Design Tokens ============= */
:root {
  /* 1) Brand + Backgrounds */
  --dsg-bg:        #0b0f14;  /* Global background / outer card */
  --dsg-bg-alt:    #0a0e13;  /* Bottom of outer frame gradient */
  --dsg-panel:     #0f141b;  /* Main panel (sidebar, header) */
  --dsg-panel-2:   #0c1117;  /* Secondary panel (chat area, cards) */

  /* Text */
  --dsg-text:      #e6edf3;  /* Primary text */
  --dsg-muted:     #9aa4af;  /* Secondary / muted text */

  /* Brand accents */
  --dsg-gold:      #f6d43f;  /* Gold brand color */
  --dsg-accent:    #8a7cff;  /* Purple brand accent */
  --dsg-accent-2:  #7a6cf0;  /* Secondary purple in avatar gradient */

  /* Borders & subtle edges */
  --dsg-edge:      rgba(255,255,255,0.08); /* Default subtle border */

  /* Starfield colors (all white tints) */
  --dsg-star-1:    rgba(255,255,255,0.40);
  --dsg-star-2:    rgba(255,255,255,0.30);
  --dsg-star-3:    rgba(255,255,255,0.25);
  --dsg-star-4:    rgba(255,255,255,0.20);

  /* Neutrals used in various places */
  --dsg-white:     #ffffff;
  --dsg-almost-black: #111111;
  --dsg-avatar-dark: #1b2631;

  /* Brand RGBA variants – Gold (rgb 246,212,63) */
  --dsg-gold-02:   rgba(246,212,63,0.02);
  --dsg-gold-03:   rgba(246,212,63,0.03);
  --dsg-gold-06:   rgba(246,212,63,0.06);
  --dsg-gold-07:   rgba(246,212,63,0.07);
  --dsg-gold-10:   rgba(246,212,63,0.10);
  --dsg-gold-12:   rgba(246,212,63,0.12);
  --dsg-gold-18:   rgba(246,212,63,0.18);
  --dsg-gold-22:   rgba(246,212,63,0.22);
  --dsg-gold-25:   rgba(246,212,63,0.25);
  --dsg-gold-35:   rgba(246,212,63,0.35);
  --dsg-gold-45:   rgba(246,212,63,0.45);

  /* Brand RGBA variants – Purple (rgb 138,124,255) */
  --dsg-purple-08: rgba(138,124,255,0.08);
  --dsg-purple-10: rgba(138,124,255,0.10);
  --dsg-purple-14: rgba(138,124,255,0.14);
  --dsg-purple-18: rgba(138,124,255,0.18);
  --dsg-purple-22: rgba(138,124,255,0.22);
  --dsg-purple-25: rgba(138,124,255,0.25);
  --dsg-purple-35: rgba(138,124,255,0.35);

  /* White overlay variants (used for glassmorphism) */
  --dsg-white-02:  rgba(255,255,255,0.02);
  --dsg-white-03:  rgba(255,255,255,0.03);
  --dsg-white-04:  rgba(255,255,255,0.04);
  --dsg-white-06:  rgba(255,255,255,0.06);
  --dsg-white-08:  rgba(255,255,255,0.08);

  /* Shadows (global) */
  --dsg-shadow:    0 10px 40px rgba(0,0,0,0.35),
                   inset 0 1px 0 rgba(255,255,255,0.04);  /* Main card */
  --dsg-shadow-xl: 0 20px 80px rgba(0,0,0,0.60);          /* Chat panel */
  --dsg-shadow-md: 0 10px 30px rgba(0,0,0,0.45);          /* Sidebar/header */
  --dsg-shadow-sm: 0 8px 30px rgba(0,0,0,0.35);           /* Hover effects */

  /* Backwards-compat aliases */
  --bg: var(--dsg-bg);
  --panel: var(--dsg-panel);
  --panel-2: var(--dsg-panel-2);
  --panel-3: var(--dsg-panel-2);
  --text: var(--dsg-text);
  --text-dim: var(--dsg-muted);
  --gold: var(--dsg-gold);
  --accent: var(--dsg-accent);
  --edge: var(--dsg-edge);
  --brand: var(--dsg-gold);
  --brand-600: #d9b838;
  --panel-border: var(--dsg-edge);
  --chip: rgba(20, 28, 43, 0.85);
  --chip-text: #f6f8ff;
  --glow-purple: var(--dsg-purple-35);
  --glow-gold: rgba(246, 212, 63, 0.32);
  --accent-purple: var(--dsg-accent);
  --accent-gold: var(--dsg-gold);
  --card-highlight: var(--dsg-gold-14);
}

.dark {
  --background: var(--bg);
  --foreground: var(--text);
}

.glass-panel {
  background: linear-gradient(140deg, rgba(20, 28, 43, 0.82), rgba(12, 18, 30, 0.64));
  border: 1px solid rgba(159, 136, 255, 0.18);
  border-radius: 1.75rem;
  box-shadow:
    0 24px 60px -44px rgba(8, 12, 26, 0.9),
    inset 0 1px 0 rgba(255, 255, 255, 0.06);
  backdrop-filter: blur(22px);
}

.glass-divider {
  border-top: 1px solid rgba(159, 136, 255, 0.16);
}

.sidebar-logo {
  position: relative;
  border-radius: 9999px;
  background: transparent; /* only glow */
  box-shadow: none; /* no outer shadow */
}
.sidebar-logo::after {
  content: "";
  position: absolute;
  inset: 0; /* fill circle */
  border-radius: inherit;
  background: radial-gradient(70% 70% at 50% 65%, rgba(246, 212, 63, 0.18), rgba(246, 212, 63, 0) 72%);
  filter: blur(10px);
  pointer-events: none;
  z-index: 0;
}

/* Ensure Next.js Image wrapper sits above the glow */
.sidebar-logo > span { position: relative; z-index: 1; }

.logo-glow {
  width: 12px;
  height: 12px;
  border-radius: 9999px;
  background: radial-gradient(65% 65% at 40% 35%, rgba(138,124,255,0.45), rgba(138,124,255,0) 70%),
              radial-gradient(60% 60% at 65% 65%, rgba(246,212,63,0.35), rgba(246,212,63,0) 70%);
  box-shadow:
    0 0 22px rgba(138,124,255,0.25),
    0 0 28px rgba(246,212,63,0.18),
    0 0 60px rgba(138,124,255,0.15);
}

.section-label {
  letter-spacing: 0.2em;
  text-transform: uppercase;
  font-size: 0.625rem;
  color: rgba(219, 229, 241, 0.58);
}

.pill-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.35rem 0.95rem;
  border-radius: 9999px;
  border-width: 1px;
  border-style: var(--chip-border-style, solid);
  border-color: var(--chip-border-color, var(--edge));
  background: linear-gradient(145deg, rgba(27, 36, 55, 0.82), rgba(13, 19, 32, 0.82));
  color: var(--text);
  font-size: 0.75rem;
  font-weight: 500;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
}

.subtle-card {
  background: linear-gradient(185deg, rgba(17, 24, 37, 0.58), rgba(12, 18, 30, 0.42));
  border: 1px solid rgba(159, 136, 255, 0.16);
  border-radius: 1.25rem;
  padding: 1.25rem;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
}

.glow-surface {
  background: linear-gradient(165deg, rgba(18, 26, 43, 0.85), rgba(9, 13, 26, 0.82));
  box-shadow:
    0 36px 90px -58px var(--glow-purple),
    0 28px 90px -72px var(--glow-gold),
    inset 0 0 0 1px rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(159, 136, 255, 0.18);
  backdrop-filter: blur(26px);
}

.card-skin {
  position: relative;
  background: linear-gradient(150deg, rgba(18, 27, 44, 0.9), rgba(10, 16, 29, 0.88));
  border: 1px solid rgba(159, 136, 255, 0.2);
  box-shadow:
    0 28px 80px -62px rgba(118, 92, 255, 0.6),
    inset 0 0 0 1px rgba(255, 255, 255, 0.04);
  overflow: hidden;
}

.card-skin::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(120% 120% at 10% 0%, rgba(255, 217, 149, 0.12), transparent),
    radial-gradient(120% 120% at 90% 20%, rgba(159, 136, 255, 0.16), transparent 60%);
  opacity: 0.7;
  pointer-events: none;
}

.card-skin > * {
  position: relative;
  z-index: 1;
}

.bubble-skin {
  background: linear-gradient(160deg, rgba(23, 32, 50, 0.94), rgba(12, 18, 32, 0.92));
  border: 1px solid rgba(159, 136, 255, 0.2);
  box-shadow: 0 26px 70px -58px rgba(118, 92, 255, 0.55);
}

.bubble-skin-user {
  background: linear-gradient(160deg, rgba(21, 30, 45, 0.9), rgba(14, 21, 34, 0.88));
  border: 1px solid rgba(255, 217, 149, 0.22);
  box-shadow: 0 24px 60px -52px rgba(255, 210, 138, 0.45);
}

/* Gradient chat bubbles (matches screenshot) */
.bubble-assistant {
  position: relative;
  border: 1px solid rgba(246, 212, 63, 0.18);
  background:
    linear-gradient(180deg, rgba(246, 212, 63, 0.06), rgba(246, 212, 63, 0.015)),
    linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0)),
    var(--panel-2);
  box-shadow: 0 16px 40px -36px rgba(246, 212, 63, 0.16), inset 0 0 0 1px rgba(255, 255, 255, 0.015);
}
.bubble-assistant::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(140% 120% at 18% -10%, rgba(246, 212, 63, 0.14), rgba(246, 212, 63, 0) 60%);
  pointer-events: none;
  opacity: 0.5;
}

.bubble-user {
  position: relative;
  border: 1px solid rgba(138, 124, 255, 0.16);
  background:
    linear-gradient(180deg, rgba(138, 124, 255, 0.06), rgba(138, 124, 255, 0.015)),
    linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0)),
    var(--panel-2);
  box-shadow: 0 14px 38px -34px rgba(138, 124, 255, 0.18), inset 0 0 0 1px rgba(255, 255, 255, 0.015);
}
.bubble-user::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(140% 120% at 88% -8%, rgba(138, 124, 255, 0.12), rgba(138, 124, 255, 0) 60%);
  pointer-events: none;
  opacity: 0.5;
}

.chat-composer-border-shell {
  --chat-composer-border-gap: 2px;
  --chat-composer-border-radius: 1.5rem;
  --chat-composer-border-color: rgba(246, 212, 63, 1);
  position: relative;
  border-radius: var(--chat-composer-border-radius);
}

.chat-composer-border,
.chat-composer-border-glow {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  overflow: hidden;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.24s ease, filter 0.24s ease;
  z-index: 0;
}

.chat-composer-border-glow {
  filter: blur(4px);
  mix-blend-mode: screen;
}

.chat-composer-border::before,
.chat-composer-border-glow::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 1000%;
  height: 1000%;
  transform: translate(-50%, -50%) rotate(0deg);
  background-repeat: no-repeat;
  background-position: 0 0;
  background-image: conic-gradient(
    from 180deg,
    rgba(246, 212, 63, 0) 0%,
    rgba(246, 212, 63, 0.12) 10%,
    rgba(246, 212, 63, 0.34) 16%,
    rgba(246, 212, 63, 0.12) 22%,
    rgba(246, 212, 63, 0) 32%
  );
  animation: chat-composer-border-spin 4.5s linear infinite;
  animation-play-state: paused;
}

.chat-composer-border-active {
  opacity: 0.72;
}

.chat-composer-border-active::before {
  animation-play-state: running;
}

.chat-composer-panel {
  position: relative;
  z-index: 1;
  margin: var(--chat-composer-border-gap);
  border-radius: calc(var(--chat-composer-border-radius) - var(--chat-composer-border-gap));
  background: var(--panel-2);
  border: 1px solid var(--panel-border);
  padding: 1rem;
  box-shadow:
    0 14px 44px -42px rgba(246, 212, 63, 0.24),
    inset 0 0 0 1px rgba(255, 255, 255, 0.02);
}

@keyframes chat-composer-border-spin {
  100% {
    transform: translate(-50%, -50%) rotate(1turn);
  }
}


/* Themed scrollbar for dark UI */
.scrollbar-themed {
  scrollbar-width: thin;              /* Firefox */
  scrollbar-color: var(--panel-border) transparent;
}
.scrollbar-themed::-webkit-scrollbar { /* Chrome, Edge, Safari */
  width: 10px;
  height: 10px;
}
.scrollbar-themed::-webkit-scrollbar-track {
  background: transparent;
}
.scrollbar-themed::-webkit-scrollbar-thumb {
  background-color: var(--panel-border);     /* thumb color */
  border-radius: 9999px;
  border: 3px solid transparent;      /* makes the pill shape slimmer */
  background-clip: padding-box;
}
.scrollbar-themed:hover::-webkit-scrollbar-thumb {
  background-color: var(--accent);    /* slightly brighter on hover */
}

/* Subtle yellow outer glow utility */
.gold-outer-glow {
  position: relative;
  border-color: rgba(246, 212, 63, 0.28) !important;
  box-shadow:
    0 0 0 2px rgba(246, 212, 63, 0.08),
    0 10px 26px -16px rgba(246, 212, 63, 0.28),
    0 0 36px -18px rgba(246, 212, 63, 0.32);
}

.gold-glass-glow {
  position: relative;
  border:none;
  background: linear-gradient(160deg, rgba(246, 212, 63, 0.06), rgba(246, 212, 63, 0.03));
  /* backdrop-filter: blur(8px); */
  box-shadow:
    0 0 0 1px rgba(246, 212, 63, 0.14) inset,
    0 22px 48px -28px rgba(246, 212, 63, 0.32),
    0 10px 36px -24px rgba(246, 212, 63, 0.24);
}

/* ============= Official DSG Gradient Utilities ============= */

/* Outer frame background */
.dsg-outer-frame-bg {
  background:
    radial-gradient(1100px 700px at 110% -10%, var(--dsg-purple-18), transparent 60%),
    radial-gradient(900px 700px at -10% 20%, var(--dsg-gold-10), transparent 60%),
    linear-gradient(180deg, var(--dsg-bg), var(--dsg-bg-alt));
}

/* Rim / border glow around the card */
.dsg-outer-rim {
  background: linear-gradient(
    140deg,
    var(--dsg-white-08),
    rgba(255,255,255,0.00) 25%,
    var(--dsg-gold-25) 60%,
    var(--dsg-purple-25)
  );
}

/* Gradient text (Eden intro line) */
.dsg-gradient-text {
  background: linear-gradient(95deg, var(--dsg-gold), var(--dsg-accent));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Sidebar / card panels */
.dsg-panel-gradient {
  background:
    linear-gradient(180deg, var(--dsg-white-06), var(--dsg-white-02)),
    var(--dsg-panel);
}

.dsg-panel-2-gradient {
  background:
    linear-gradient(180deg, var(--dsg-white-06), var(--dsg-white-02)),
    var(--dsg-panel-2);
}

/* Buttons (neutral + primary) */
.dsg-btn-bg {
  background: linear-gradient(180deg, var(--dsg-white-08), var(--dsg-white-02));
  border: 1px solid var(--dsg-edge);
  color: var(--dsg-white);
}

.dsg-btn-primary {
  border-color: var(--dsg-gold-45);
  box-shadow: 0 0 0 3px var(--dsg-gold-12) inset;
}

/* Chat background */
.dsg-chat-bg {
  background:
    linear-gradient(180deg, var(--dsg-white-02), rgba(255,255,255,0.00)),
    radial-gradient(800px 500px at 100% -10%, var(--dsg-purple-08), transparent 60%),
    var(--dsg-panel-2);
}

/* Message bubbles */
.dsg-bubble-base {
  background: linear-gradient(180deg, var(--dsg-white-06), var(--dsg-white-02));
  border: 1px solid var(--dsg-edge);
}

.dsg-bubble-ai {
  border-color: var(--dsg-gold-22);
  background: linear-gradient(180deg, var(--dsg-gold-10), var(--dsg-gold-03));
}

.dsg-bubble-user {
  border-color: var(--dsg-purple-22);
  background: linear-gradient(180deg, var(--dsg-purple-10), var(--dsg-purple-08));
}

/* Avatar gradients */
.dsg-avatar-main {
  background: radial-gradient(70% 70% at 40% 30%, var(--dsg-accent), var(--dsg-accent-2));
}

.dsg-avatar-small {
  background: var(--dsg-avatar-dark);
}

/* Helper popup */
.dsg-helper-bg {
  background:
    linear-gradient(180deg, var(--dsg-purple-14), var(--dsg-purple-08)),
    var(--dsg-panel-2);
  border: 1px solid var(--dsg-purple-25);
  box-shadow: 0 12px 60px var(--dsg-purple-18);
}

/* Pills / quick actions */
.dsg-toolbar-pill {
  border: 1px dashed var(--dsg-gold-35);
  background: var(--dsg-gold-06);
  color: var(--dsg-white);
}

/* Send button */
.dsg-send-btn {
  border: 1px solid var(--dsg-gold-45);
  background: linear-gradient(180deg, var(--dsg-gold-18), var(--dsg-gold-07));
  color: var(--dsg-almost-black);
  box-shadow: 0 0 0 3px var(--dsg-gold-12) inset;
}

